<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>
    <record id="action_mx_ped_transportistas" model="ir.actions.act_window">
      <field name="name">Transportistas</field>
      <field name="res_model">res.partner</field>
      <field name="view_mode">list,form</field>
      <field name="domain">[("x_contact_role","=","transportista")]
      </field>
      <field name="context">{"default_x_contact_role": "transportista"}</field>
    </record>

    <menuitem id="menu_mx_ped_transportistas"
              name="Transportistas"
              parent="mx_ped_operacion_menu_root"
              action="action_mx_ped_transportistas"
              sequence="25"/>

    <record id="res_partner_view_form_inherit_mi_modulo_aduana" model="ir.ui.view">
      <field name="name">res.partner.form.inherit.mimodulo_aduana_odoo_modulo.aduana</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="arch" type="xml">
        <xpath expr="//notebook" position="inside">
          <page string="Aduana" name="mi_modulo_aduana_partner">
            <group>
              <group string="Rol">
                <field name="x_contact_role"/>
                <field name="x_rule_engine_strict"/>
                <field name="x_patente_aduanal" invisible="x_contact_role != 'agente_aduanal'"/>
                <field name="x_num_autorizacion_aduanal" invisible="x_contact_role != 'agente_aduanal'"/>
              </group>
              <group string="Identificacion">
                <field name="vat"/>
                <field name="x_curp"/>
                <field name="x_identificacion_fiscal"/>
              </group>
              <group string="Domicilio">
                <field name="x_street_name"/>
                <field name="x_street_number_ext"/>
                <field name="x_street_number_int"/>
                <field name="x_colonia"/>
                <field name="x_municipio"/>
                <field name="x_localidad"/>
                <field name="zip"/>
                <field name="city"/>
                <field name="state_id"/>
                <field name="country_id"/>
                <field name="street"/>
                <field name="street2"/>
              </group>
            </group>
          </page>

          <page string="Documentos" name="mi_modulo_documentos_partner">
            <group string="Documentacion">
              <field name="company_type" invisible="1"/>

              <group invisible="company_type != 'person'">
                <field name="x_csf_filename" invisible="1"/>
                <field name="x_csf_file" widget="binary" filename="x_csf_filename"/>
                <group col="2">
                  <group>
                    <field name="x_pf_programa_fomento_filename" invisible="1"/>
                    <field name="x_pf_programa_fomento_file" widget="binary" filename="x_pf_programa_fomento_filename"/>
                    <field name="x_pf_fotos_instalaciones_filename" invisible="1"/>
                    <field name="x_pf_fotos_instalaciones_file" widget="binary" filename="x_pf_fotos_instalaciones_filename"/>
                    <field name="x_pf_sellos_vucem_filename" invisible="1"/>
                    <field name="x_pf_sellos_vucem_file" widget="binary" filename="x_pf_sellos_vucem_filename"/>
                    <field name="x_pf_contrato_servicios_filename" invisible="1"/>
                    <field name="x_pf_contrato_servicios_file" widget="binary" filename="x_pf_contrato_servicios_filename"/>
                    <field name="x_pf_carta_69b_filename" invisible="1"/>
                    <field name="x_pf_carta_69b_file" widget="binary" filename="x_pf_carta_69b_filename"/>
                    <field name="x_pf_cuestionario_oea_ctpat_filename" invisible="1"/>
                    <field name="x_pf_cuestionario_oea_ctpat_file" widget="binary" filename="x_pf_cuestionario_oea_ctpat_filename"/>
                  </group>
                  <group>
                    <field name="x_pf_autorizacion_shipper_export_filename" invisible="1"/>
                    <field name="x_pf_autorizacion_shipper_export_file" widget="binary" filename="x_pf_autorizacion_shipper_export_filename"/>
                    <field name="x_pf_convenio_confidencialidad_filename" invisible="1"/>
                    <field name="x_pf_convenio_confidencialidad_file" widget="binary" filename="x_pf_convenio_confidencialidad_filename"/>
                    <field name="x_pf_info_atencion_ce_filename" invisible="1"/>
                    <field name="x_pf_info_atencion_ce_file" widget="binary" filename="x_pf_info_atencion_ce_filename"/>
                    <field name="x_pf_opinion_cumplimiento_mensual_filename" invisible="1"/>
                    <field name="x_pf_opinion_cumplimiento_mensual_file" widget="binary" filename="x_pf_opinion_cumplimiento_mensual_filename"/>
                    <field name="x_pf_pantalla_domicilio_localizado_filename" invisible="1"/>
                    <field name="x_pf_pantalla_domicilio_localizado_file" widget="binary" filename="x_pf_pantalla_domicilio_localizado_filename"/>
                  </group>
                </group>
              </group>

              <group invisible="company_type != 'company'">
                <field name="x_csf_filename" invisible="1"/>
                <field name="x_csf_file" widget="binary" filename="x_csf_filename"/>
                <group col="2">
                  <group>
                    <field name="x_pm_acta_constitutiva_filename" invisible="1"/>
                    <field name="x_pm_acta_constitutiva_file" widget="binary" filename="x_pm_acta_constitutiva_filename"/>
                    <field name="x_pm_poder_representante_filename" invisible="1"/>
                    <field name="x_pm_poder_representante_file" widget="binary" filename="x_pm_poder_representante_filename"/>
                    <field name="x_pm_doc_propiedad_posesion_filename" invisible="1"/>
                    <field name="x_pm_doc_propiedad_posesion_file" widget="binary" filename="x_pm_doc_propiedad_posesion_filename"/>
                    <field name="x_pm_rep_identificacion_filename" invisible="1"/>
                    <field name="x_pm_rep_identificacion_file" widget="binary" filename="x_pm_rep_identificacion_filename"/>
                    <field name="x_pm_rep_rfc_csf_filename" invisible="1"/>
                    <field name="x_pm_rep_rfc_csf_file" widget="binary" filename="x_pm_rep_rfc_csf_filename"/>
                    <field name="x_pm_rep_opinion_cumplimiento_filename" invisible="1"/>
                    <field name="x_pm_rep_opinion_cumplimiento_file" widget="binary" filename="x_pm_rep_opinion_cumplimiento_filename"/>
                    <field name="x_pm_acta_verificacion_domicilio_filename" invisible="1"/>
                    <field name="x_pm_acta_verificacion_domicilio_file" widget="binary" filename="x_pm_acta_verificacion_domicilio_filename"/>
                    <field name="x_pm_comprobante_domicilio_filename" invisible="1"/>
                    <field name="x_pm_comprobante_domicilio_file" widget="binary" filename="x_pm_comprobante_domicilio_filename"/>
                    <field name="x_pm_opinion_32d_filename" invisible="1"/>
                    <field name="x_pm_opinion_32d_file" widget="binary" filename="x_pm_opinion_32d_filename"/>
                    <field name="x_pm_carta_encomienda_filename" invisible="1"/>
                    <field name="x_pm_carta_encomienda_file" widget="binary" filename="x_pm_carta_encomienda_filename"/>
                  </group>
                  <group>
                    <field name="x_pm_acuse_encargo_conferido_filename" invisible="1"/>
                    <field name="x_pm_acuse_encargo_conferido_file" widget="binary" filename="x_pm_acuse_encargo_conferido_filename"/>
                    <field name="x_pm_programa_fomento_filename" invisible="1"/>
                    <field name="x_pm_programa_fomento_file" widget="binary" filename="x_pm_programa_fomento_filename"/>
                    <field name="x_pm_sellos_vucem_filename" invisible="1"/>
                    <field name="x_pm_sellos_vucem_file" widget="binary" filename="x_pm_sellos_vucem_filename"/>
                    <field name="x_pm_fotos_instalaciones_filename" invisible="1"/>
                    <field name="x_pm_fotos_instalaciones_file" widget="binary" filename="x_pm_fotos_instalaciones_filename"/>
                    <field name="x_pm_contrato_servicios_filename" invisible="1"/>
                    <field name="x_pm_contrato_servicios_file" widget="binary" filename="x_pm_contrato_servicios_filename"/>
                    <field name="x_pm_carta_69b_filename" invisible="1"/>
                    <field name="x_pm_carta_69b_file" widget="binary" filename="x_pm_carta_69b_filename"/>
                    <field name="x_pm_cuestionarios_oea_ctpat_filename" invisible="1"/>
                    <field name="x_pm_cuestionarios_oea_ctpat_file" widget="binary" filename="x_pm_cuestionarios_oea_ctpat_filename"/>
                    <field name="x_pm_autorizacion_shipper_export_filename" invisible="1"/>
                    <field name="x_pm_autorizacion_shipper_export_file" widget="binary" filename="x_pm_autorizacion_shipper_export_filename"/>
                    <field name="x_pm_convenio_confidencialidad_filename" invisible="1"/>
                    <field name="x_pm_convenio_confidencialidad_file" widget="binary" filename="x_pm_convenio_confidencialidad_filename"/>
                  </group>
                </group>
              </group>

              <button name="action_request_missing_documents"
                      type="object"
                      string="Solicitar faltantes por WhatsApp"
                      class="btn-secondary"/>
            </group>
          </page>
        </xpath>
      </field>
    </record>
  </data>
</odoo>
